{{- if not .Values.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "x-pass.fullname" . }}-secrets
  labels:
    {{- include "x-pass.labels" . | nindent 4 }}
type: Opaque
data: {}
  # Populate via: helm install --set-literal existingSecret=my-secret
  # Or create the secret with xpass-admin:
  #   bin/xpass-admin.py create-secret \
  #     --keycloak-client-secret '...' \
  #     --keycloak-password '...' \
  #     --generate-enc-key
  # Required keys: KEYCLOAK_CLIENT_SECRET, WRAPTOKEN_ENC_KEY, KEYCLOAK_USERNAME, KEYCLOAK_PASSWORD
{{- end }}
